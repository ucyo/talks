<!DOCTYPE html>
<html>
  <head>
    <title>Python 2 to 3</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Merriweather:400);
      @import url(https://fonts.googleapis.com/css?family=Montserrat:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Roboto:400,700,400italic);
    </style>
    <link rel="stylesheet" type="text/css" href="style.css" media="screen"/>
  </head>
  <body>
    <textarea id="source">


class: center, middle


# Poetry
## Python packaging and dependency management
Python Meeting IMK 

[2020/08/26]


---

# Why setting up environments?

- Reproducibility
- Different dependencies of projects
- Testing of different environements (Python3.5, 3.6, ...)
- Isolation / Starting with a clean sheet

---

# Poetry

*Python packaging and dependency management made easy*

- (all of the previous)
- Packaging of projects
- Publishing on PyPI
- Testing environment integrated
- Single configuration file
- Single CLI tool

https://python-poetry.org/

---

# Poetry (Install/Uninstall)

*Download installer*
```bash
wget https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py
```

*Install*
```bash
python get-poetry.py
```

*Update itself*
```bash
poetry self update
```

*Uninstall*
```bash
python get-poetry.py --uninstall
```

---
# Poetry (Project creation)

*Create new environment*
```bash
poetry new awesome-demo
```
--
*Project folder structure*
```bash
awesome-demo
├── pyproject.toml
├── README.rst
├── awesome_demo
│   └── __init__.py
└── tests
    ├── __init__.py
    └── test_awesome_demo.py
```
---

# Poetry (Project creation)

Contents of `pyproject.toml`

```toml
[tool.poetry]
name = "awesome-demo"
version = "0.1.0"
description = ""
authors = ["Uğur Çayoğlu <Cayoglu@kit.edu>"]
[tool.poetry.dependencies]
python = "*"
[tool.poetry.dev-dependencies]
pytest = "^3.4"
```

`pytproject.toml` replaces all other setup files like:
- `setup.py` 
- `requirements.txt`
- `setup.cfg`
- `MANIFEST.in`
- `Pipfile`

---

# Poetry (Dependency management)

*Add dependency*
```bash
poetry add numpy pandas
```

*Add development dependency*
```bash
poetry add -D black
```
--
*Remove dependency*
```bash
poetry remove numpy
```
--
*Update dependencies to latest version*
```bash
poetry update
```
---
# Poetry (Environment creation and usage)

*Create environment*
```bash
poetry install
```

*Start CLI with environment*
```bash
poetry shell
```

---
# Poetry (Sharing)

*Build single file sources and wheel*
```bash
poetry build
```

*Publish code on PyPI*
```bash
poetry publish
```


---

# Alternatives/Additions

- (Ana)conda <br> Environements incl. binaries
- venv
- pyenv <br> Python binary management
- virtualenv +virtualenvwrapper
- pipenv


---

class: center, middle
background-image: url(Thats_all_folks.svg)
background-size: cover


    </textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create({
        ratio: '4:3',
        highlightStyle: 'dracula',
        highlightLines: true,
      });
    </script>
  </body>
</html>

